{"version":3,"sources":["file:///C:/Users/53190/Desktop/TK2/assets/text/enemytank-001/tietu.ts"],"names":["_decorator","Component","enemyfire","ccclass","property","sprite","onLoad","node","angle","start","changeDirection","update","dt","x","parent","getChildByName","getComponent","speed","y","Math","atan2","abs","PI"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,S,iBAAAA,S;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;wBAEjBK,M,WADZF,OAAO,CAAC,aAAD,C,gBAAR,MACaE,MADb,SAC4BJ,SAD5B,CACsC;AAClCK,QAAAA,MAAM,GAAG;AACL,eAAKC,IAAL,CAAUC,KAAV,GAAkB,CAAlB;AACH;;AACDC,QAAAA,KAAK,GAAG;AACJ,eAAKC,eAAL;AACH;;AACDC,QAAAA,MAAM,CAACC,EAAD,EAAa;AACf,eAAKF,eAAL;AACH;;AACDA,QAAAA,eAAe,GAAG;AACd,cAAMG,CAAC,GAAG,KAAKN,IAAL,CAAUO,MAAV,CAAiBC,cAAjB,CAAgC,eAAhC,EAAiDC,YAAjD;AAAA;AAAA,sCAAyEC,KAAzE,CAA+EJ,CAAzF;AACA,cAAMK,CAAC,GAAG,KAAKX,IAAL,CAAUO,MAAV,CAAiBC,cAAjB,CAAgC,eAAhC,EAAiDC,YAAjD;AAAA;AAAA,sCAAyEC,KAAzE,CAA+EC,CAAzF;AACA,cAAMV,KAAK,GAAGW,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,GAAL,CAASH,CAAT,CAAX,EAAwBC,IAAI,CAACE,GAAL,CAASR,CAAT,CAAxB,KAAwC,MAAMM,IAAI,CAACG,EAAnD,CAAd;;AAEA,cAAIJ,CAAC,GAAG,CAAJ,IAASL,CAAC,IAAI,CAAlB,EAAqB;AACjB,iBAAKN,IAAL,CAAUC,KAAV,GAAkB,MAAMA,KAAxB;AACH,WAFD,MAGK,IAAIU,CAAC,IAAI,CAAL,IAAUL,CAAC,GAAG,CAAlB,EAAqB;AACtB,iBAAKN,IAAL,CAAUC,KAAV,GAAkBA,KAAlB;AACH,WAFI,MAGA,IAAIU,CAAC,GAAG,CAAJ,IAASL,CAAC,IAAI,CAAlB,EAAqB;AACtB,iBAAKN,IAAL,CAAUC,KAAV,GAAkB,CAAEA,KAApB;AACH,WAFI,MAGA,IAAIU,CAAC,IAAI,CAAL,IAAUL,CAAC,GAAG,CAAlB,EAAqB;AACtB,iBAAKN,IAAL,CAAUC,KAAV,GAAkB,MAAMA,KAAxB;AACH;AACJ;;AA3BiC,O","sourcesContent":["import { _decorator, Component, Prefab, Sprite, systemEvent, SpriteFrame, Input, input, EventMouse, SystemEvent, Node, EventKeyboard, macro, RigidBody2D, Vec2, Vec3, instantiate, Collider2D, Contact2DType } from 'cc';\r\nimport { enemyfire } from './enemyfire';\r\n\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('sprite.node')\r\nexport class sprite extends Component {\r\n    onLoad() {\r\n        this.node.angle = 0;\r\n    }\r\n    start() {\r\n        this.changeDirection();\r\n    }\r\n    update(dt: number) {\r\n        this.changeDirection();\r\n    }\r\n    changeDirection() {\r\n        const x = this.node.parent.getChildByName('firedirection').getComponent(enemyfire).speed.x;\r\n        const y = this.node.parent.getChildByName('firedirection').getComponent(enemyfire).speed.y;\r\n        const angle = Math.atan2(Math.abs(y), Math.abs(x)) * (180 / Math.PI);\r\n\r\n        if (y > 0 && x <= 0) {\r\n            this.node.angle = 180 - angle;\r\n        }\r\n        else if (y >= 0 && x > 0) {\r\n            this.node.angle = angle;\r\n        }\r\n        else if (y < 0 && x >= 0) {\r\n            this.node.angle = - angle;\r\n        }\r\n        else if (y <= 0 && x < 0) {\r\n            this.node.angle = 180 + angle;\r\n        }\r\n    }\r\n}"]}