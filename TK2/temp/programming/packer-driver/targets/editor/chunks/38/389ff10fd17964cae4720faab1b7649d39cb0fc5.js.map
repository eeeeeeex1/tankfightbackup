{"version":3,"sources":["file:///D:/demo3/TK2/assets/text/speedaffect1.ts"],"names":["_decorator","Component","PlayerController1","ccclass","property","speedaffect1","playercontroller1","originalMagnification","changedMagnification","isChanging","changeDuration","changeTimer","start","node","parent","getComponent","speed","update","deltaTime","currentMagnification"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,iB,iBAAAA,iB;;;;;;;;;AAAoC;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;8BAGjBK,Y,WADZF,OAAO,CAAC,cAAD,C,gBAAR,MACaE,YADb,SACkCJ,SADlC,CAC4C;AAAA;AAAA;AAAA,eAEhCK,iBAFgC,GAEc,IAFd;AAAA,eAIhCC,qBAJgC,GAIA,CAJA;AAIG;AAJH,eAKhCC,oBALgC,GAKD,CALC;AAKE;AALF,eAMhCC,UANgC,GAMV,KANU;AAMH;AANG,eAOhCC,cAPgC,GAOP,CAPO;AAOJ;AAPI,eAQhCC,WARgC,GAQV,CARU;AAAA;;AAQP;AAEjCC,QAAAA,KAAK,GAAG;AACJ;AACA,eAAKN,iBAAL,GAAyB,KAAKO,IAAL,CAAUC,MAAV,CAAiBC,YAAjB;AAAA;AAAA,qDAAzB,CAFI,CAIJ;;AACA,cAAI,KAAKT,iBAAT,EAA4B;AACxB,iBAAKC,qBAAL,GAA6B,KAAKD,iBAAL,CAAuBU,KAApD;AACA,iBAAKR,oBAAL,GAA4B,KAAKD,qBAAjC,CAFwB,CAEgC;AAC3D;AACJ;;AAEDU,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAI,KAAKZ,iBAAT,EAA4B;AACxB,gBAAIa,oBAAoB,GAAG,KAAKb,iBAAL,CAAuBU,KAAlD,CADwB,CAExB;;AACA,gBAAIG,oBAAoB,KAAK,KAAKX,oBAA9B,IAAsD,CAAC,KAAKC,UAAhE,EAA4E;AACxE;AACA,mBAAKA,UAAL,GAAkB,IAAlB;AACA,mBAAKE,WAAL,GAAmB,CAAnB;AACA,mBAAKH,oBAAL,GAA4BW,oBAA5B,CAJwE,CAItB;AACrD,aARuB,CAUxB;;;AACA,gBAAI,KAAKV,UAAT,EAAqB;AACjB,mBAAKE,WAAL,IAAoBO,SAApB,CADiB,CAGjB;;AACA,kBAAI,KAAKP,WAAL,IAAoB,KAAKD,cAA7B,EAA6C;AACzC;AACA,qBAAKJ,iBAAL,CAAuBU,KAAvB,GAA+B,KAAKT,qBAApC;AACA,qBAAKE,UAAL,GAAkB,KAAlB,CAHyC,CAGhB;AAC5B;AACJ;AACJ;AACJ;;AA5CuC,O","sourcesContent":["import { _decorator, Component, Node, Prefab } from 'cc';\nimport { PlayerController1 } from './tank1'; // ȷ����ȷ���� PlayerController0 ��\nconst { ccclass, property } = _decorator;\n\n@ccclass('speedaffect1')\nexport class speedaffect1 extends Component {\n\n    private playercontroller1: PlayerController1 | null = null;\n\n    private originalMagnification: number = 0; // ��ʼ�� magnification ֵ\n    private changedMagnification: number = 0; // �仯��� magnification ֵ\n    private isChanging: boolean = false; // �Ƿ����ڱ仯\n    private changeDuration: number = 5; // �仯����ʱ�䣬��λ����\n    private changeTimer: number = 0; // �仯��ʱ��\n\n    start() {\n        // ��ȡ PlayerController0 �� firedirection0 ��ʵ��\n        this.playercontroller1 = this.node.parent.getComponent(PlayerController1);\n\n        // ��ʼ��¼��ǰ�� magnification ֵ\n        if (this.playercontroller1) {\n            this.originalMagnification = this.playercontroller1.speed;\n            this.changedMagnification = this.originalMagnification; // ��ʼʱ���仯���ֵ����ԭʼֵ\n        }\n    }\n\n    update(deltaTime: number) {\n        if (this.playercontroller1) {\n            let currentMagnification = this.playercontroller1.speed;\n            // ��鵱ǰֵ�Ƿ���仯���ֵ��ͬ���Ҳ����ڱ仯״̬\n            if (currentMagnification !== this.changedMagnification && !this.isChanging) {\n                // magnification �����˱仯����ʼ��ʱ\n                this.isChanging = true;\n                this.changeTimer = 0;\n                this.changedMagnification = currentMagnification; // ���±仯���ֵΪ��ǰֵ\n            }\n\n            // ������ڱ仯״̬����ʱ���ۼ�\n            if (this.isChanging) {\n                this.changeTimer += deltaTime;\n\n                // �����ʱ�ﵽ�趨ʱ��\n                if (this.changeTimer >= this.changeDuration) {\n                    // �� magnification �ظ���ԭʼֵ\n                    this.playercontroller1.speed = this.originalMagnification;\n                    this.isChanging = false; // �仯����\n                }\n            }\n        }\n    }\n}\n\n\n\n\n"]}